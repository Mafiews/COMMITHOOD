<!-- yizhu: add a container to all elements, with a row to display two sections -->
<div class="container justify-content-center">

  <!-- add result filter and text search function -->
  <div class="search-bar-index form-inline">
    <%= form_tag events_path, method: "get" do %>
      <%= select_tag 'user-cause', options_for_select(Cause::CAUSES), class: 'form-control event-address mt-3' %>
      <%= text_field_tag :address, "", required: false, id: "event-address", label: false, placeholder: "Adresse", class: 'form-control mt-3' %>
      <%= text_field_tag :keyword, "", required: false, id: "keyword", label: false, placeholder: "Mot cl√©", class: 'form-control mt-3' %>
      <%= submit_tag "Rechercher üîç", class: "btn btn-warning text-white ml-2 mt-3" %>
    <% end %>
  </div>

  <!-- yizhu: section of cards for events show, 50% of the larger -->
  <div class="row mt-3">
    <div class="col-6">
      <!-- yizhu: insert events cards here -->
      <% @events.each do |event| %>
        <div class="card-event-index m-3">
          <img src="https://raw.githubusercontent.com/lewagon/fullstack-images/master/uikit/greece.jpg" />
          <div class="card-event-index-infos">
            <div>
              <h2><%= event.name %></h2>
              <p><%= event.description.truncate_words(18) %></p>
              <p class="card-event-index-date">Date de l'√©v√©nement: <%= event.start_date %></p>
            </div>
            <img src="https://kitt.lewagon.com/placeholder/users/krokrob" class="card-event-index-user avatar-bordered" />
            <%= link_to "Paticiper", event_path(event), class:"btn btn-success btn-join" %>
          </div>
        </div>
      <% end %>
    </div>


    <!-- section of map, 50% of the larger -->
    <div class="col-6">
    <div id="map"
      style="width: 100%; height: 600px;"
      data-markers="<%= @markers.to_json %>"
      data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>"></div>
    </div>


  </div>
</div>
